<!DOCTYPE html>
<html>
<head>
    <title>Sentiment Analysis Demo</title>
    <style>
        body { font-family: Arial; margin: 40px; }
        .container { max-width: 800px; margin: auto; }
        textarea { width: 100%; height: 100px; margin: 10px 0; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
        .result { margin-top: 20px; padding: 15px; border-radius: 5px; }
        .positive { background-color: #d4edda; color: #155724; }
        .negative { background-color: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä Sentiment Analysis Demo</h1>
        <p>Nh·∫≠p vƒÉn b·∫£n ti·∫øng Anh ƒë·ªÉ ph√¢n t√≠ch sentiment (t√≠ch c·ª±c/ti√™u c·ª±c):</p>

        <textarea id="textInput" placeholder="V√≠ d·ª•: I love this product, it's amazing!"></textarea>

        <div>
            <label>Ch·ªçn Model: </label>
            <select id="modelSelect">
                <option value="logistic_regression">Logistic Regression</option>
                <option value="random_forest">Random Forest</option>
                <option value="gradient_boosting">Gradient Boosting</option>
            </select>
        </div>

        <button onclick="predictSentiment()">Ph√¢n t√≠ch Sentiment</button>

        <div id="result" class="result" style="display:none;"></div>

        <script>
            async function predictSentiment() {
                const text = document.getElementById('textInput').value;
                const model = document.getElementById('modelSelect').value;
                const resultDiv = document.getElementById('result');

                if (!text.trim()) {
                    alert("Vui l√≤ng nh·∫≠p vƒÉn b·∫£n!");
                    return;
                }

                // G·ªçi API
                try {
                    const response = await fetch('/predict', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ text, model })
                    });
                    const data = await response.json();

                    // Hi·ªÉn th·ªã k·∫øt qu·∫£
                    resultDiv.style.display = 'block';
                    resultDiv.className = `result ${data.sentiment.toLowerCase()}`;
                    resultDiv.innerHTML = `
                        <h3>K·∫øt qu·∫£ ph√¢n t√≠ch:</h3>
                        <p><strong>VƒÉn b·∫£n:</strong> ${data.text}</p>
                        <p><strong>Sentiment:</strong> ${data.sentiment}</p>
                        <p><strong>ƒê·ªô tin c·∫≠y:</strong> ${(data.confidence * 100).toFixed(2)}%</p>
                        <p><strong>Model s·ª≠ d·ª•ng:</strong> ${data.model_used}</p>
                    `;
                } catch (error) {
                    alert("L·ªói khi g·ªçi API: " + error);
                }
            }
        </script>
    </div>
</body>
</html>